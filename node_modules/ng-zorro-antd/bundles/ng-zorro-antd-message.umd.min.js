!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/cdk/overlay"),require("@angular/core"),require("ng-zorro-antd/core"),require("rxjs"),require("@angular/common"),require("ng-zorro-antd/icon")):"function"==typeof define&&define.amd?define("ng-zorro-antd/message",["exports","@angular/cdk/overlay","@angular/core","ng-zorro-antd/core","rxjs","@angular/common","ng-zorro-antd/icon"],t):t(((e=e||self)["ng-zorro-antd"]=e["ng-zorro-antd"]||{},e["ng-zorro-antd"].message={}),e.ng.cdk.overlay,e.ng.core,e["ng-zorro-antd"].core,e.rxjs,e.ng.common,e["ng-zorro-antd"].icon)}(this,function(e,t,n,o,s,i,r){"use strict";var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var c=function(){return(c=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};
/**
     * @license
     * Copyright Alibaba.com All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE
     */
var p=0,g=function(){function e(e,t,n,o,s,i,r){void 0===r&&(r=""),this.nzSingletonService=e,this.overlay=t,this.containerClass=n,this.injector=o,this.cfr=s,this.appRef=i,this.name=r,this._container=this.withContainer(),this.nzSingletonService.registerSingletonWithKey(this.name,this._container)}return e.prototype.remove=function(e){e?this._container.removeMessage(e):this._container.removeMessageAll()},e.prototype.createMessage=function(e,t){var n=c({},e,{createdAt:new Date,messageId:this._generateMessageId(),options:t});return this._container.createMessage(n),n},e.prototype.config=function(e){this._container.setConfig(e)},e.prototype._generateMessageId=function(){return this.name+"-"+p++},e.prototype.withContainer=function(){var e=this.nzSingletonService.getSingletonWithKey(this.name);if(e)return e;var t=this.cfr.resolveComponentFactory(this.containerClass).create(this.injector);t.changeDetectorRef.detectChanges(),this.appRef.attachView(t.hostView);var n=this.overlay.create().overlayElement;return n.style.zIndex="1010",n.appendChild(t.hostView.rootNodes[0]),t.instance},e}();var u=new n.InjectionToken("NZ_MESSAGE_DEFAULT_CONFIG"),h=new n.InjectionToken("NZ_MESSAGE_CONFIG"),l={provide:u,useValue:{nzAnimate:!0,nzDuration:3e3,nzMaxStack:7,nzPauseOnHover:!0,nzTop:24}},m=function(){function e(e,t,n,s){this.cdr=e,this.nzConfigService=t,this.messages=[],s&&o.warnDeprecation("Injection token 'NZ_MESSAGE_CONFIG' is deprecated and will be removed in 9.0.0. Please use 'NzConfigService' instead."),this.setConfig(c({},n,s))}return e.prototype.ngOnInit=function(){this.subscribeConfigChange()},e.prototype.setConfig=function(e){this.config=this.mergeMessageConfig(e),this.top=o.toCssPixel(this.config.nzTop),this.cdr.markForCheck()},e.prototype.createMessage=function(e){this.messages.length>=this.config.nzMaxStack&&this.messages.splice(0,1),e.options=this._mergeMessageOptions(e.options),e.onClose=new s.Subject,this.messages.push(e),this.cdr.detectChanges()},e.prototype.removeMessage=function(e,t){var n=this;void 0===t&&(t=!1),this.messages.some(function(o,s){return o.messageId===e&&(n.messages.splice(s,1),n.cdr.detectChanges(),o.onClose.next(t),o.onClose.complete(),!0)})},e.prototype.removeMessageAll=function(){this.messages=[],this.cdr.detectChanges()},e.prototype.subscribeConfigChange=function(){var e=this;this.nzConfigService.getConfigChangeEventForComponent(o.trimComponentName(this.constructor.name)).subscribe(function(){return e.setConfig()})},e.prototype.mergeMessageConfig=function(e){return c({},this.config,e,this.nzConfigService.getConfigForComponent(o.trimComponentName(this.constructor.name)))},e.prototype._mergeMessageOptions=function(e){var t={nzDuration:this.config.nzDuration,nzAnimate:this.config.nzAnimate,nzPauseOnHover:this.config.nzPauseOnHover};return c({},t,e)},e.decorators=[{type:n.Component,args:[{changeDetection:n.ChangeDetectionStrategy.OnPush,encapsulation:n.ViewEncapsulation.None,selector:"nz-message-container",exportAs:"nzMessageContainer",preserveWhitespaces:!1,template:'<div class="ant-message" [style.top]="top">\n  <nz-message *ngFor="let message of messages; let i = index" [nzMessage]="message" [nzIndex]="i"></nz-message>\n</div>'}]}],e.ctorParameters=function(){return[{type:n.ChangeDetectorRef},{type:o.NzConfigService},{type:void 0,decorators:[{type:n.Optional},{type:n.Inject,args:[u]}]},{type:void 0,decorators:[{type:n.Optional},{type:n.Inject,args:[h]}]}]},e}();var f=function(){function e(){}return e.decorators=[{type:n.NgModule}],e}(),d=function(e){function s(t,n,o,s,i){return e.call(this,t,n,m,o,s,i,"message")||this}return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(s,e),s.prototype.success=function(e,t){return this.createMessage({type:"success",content:e},t)},s.prototype.error=function(e,t){return this.createMessage({type:"error",content:e},t)},s.prototype.info=function(e,t){return this.createMessage({type:"info",content:e},t)},s.prototype.warning=function(e,t){return this.createMessage({type:"warning",content:e},t)},s.prototype.loading=function(e,t){return this.createMessage({type:"loading",content:e},t)},s.prototype.create=function(e,t,n){return this.createMessage({type:e,content:t},n)},s.decorators=[{type:n.Injectable,args:[{providedIn:f}]}],s.ctorParameters=function(){return[{type:o.NzSingletonService},{type:t.Overlay},{type:n.Injector},{type:n.ComponentFactoryResolver},{type:n.ApplicationRef}]},s.ngInjectableDef=n.ɵɵdefineInjectable({factory:function(){return new s(n.ɵɵinject(o.NzSingletonService),n.ɵɵinject(t.Overlay),n.ɵɵinject(n.INJECTOR),n.ɵɵinject(n.ComponentFactoryResolver),n.ɵɵinject(n.ApplicationRef))},token:s,providedIn:f}),s}(g),y=function(){function e(e,t){this._messageContainer=e,this.cdr=t,this._eraseTimer=null}return e.prototype.ngOnInit=function(){this._options=this.nzMessage.options,this._options.nzAnimate&&(this.nzMessage.state="enter"),this._autoErase=this._options.nzDuration>0,this._autoErase&&(this._initErase(),this._startEraseTimeout())},e.prototype.ngOnDestroy=function(){this._autoErase&&this._clearEraseTimeout()},e.prototype.onEnter=function(){this._autoErase&&this._options.nzPauseOnHover&&(this._clearEraseTimeout(),this._updateTTL())},e.prototype.onLeave=function(){this._autoErase&&this._options.nzPauseOnHover&&this._startEraseTimeout()},e.prototype._destroy=function(e){var t=this;void 0===e&&(e=!1),this._options.nzAnimate?(this.nzMessage.state="leave",this.cdr.detectChanges(),setTimeout(function(){return t._messageContainer.removeMessage(t.nzMessage.messageId,e)},200)):this._messageContainer.removeMessage(this.nzMessage.messageId,e)},e.prototype._initErase=function(){this._eraseTTL=this._options.nzDuration,this._eraseTimingStart=Date.now()},e.prototype._updateTTL=function(){this._autoErase&&(this._eraseTTL-=Date.now()-this._eraseTimingStart)},e.prototype._startEraseTimeout=function(){var e=this;this._eraseTTL>0?(this._clearEraseTimeout(),this._eraseTimer=setTimeout(function(){return e._destroy()},this._eraseTTL),this._eraseTimingStart=Date.now()):this._destroy()},e.prototype._clearEraseTimeout=function(){null!==this._eraseTimer&&(clearTimeout(this._eraseTimer),this._eraseTimer=null)},e.decorators=[{type:n.Component,args:[{changeDetection:n.ChangeDetectionStrategy.OnPush,encapsulation:n.ViewEncapsulation.None,selector:"nz-message",exportAs:"nzMessage",preserveWhitespaces:!1,animations:[o.moveUpMotion],template:'<div class="ant-message-notice"\n  [@moveUpMotion]="nzMessage.state"\n  (mouseenter)="onEnter()"\n  (mouseleave)="onLeave()">\n  <div class="ant-message-notice-content">\n    <div class="ant-message-custom-content" [ngClass]="\'ant-message-\' + nzMessage.type">\n      <ng-container [ngSwitch]="nzMessage.type">\n        <i *ngSwitchCase="\'success\'" nz-icon nzType="check-circle"></i>\n        <i *ngSwitchCase="\'info\'"  nz-icon nzType="info-circle"></i>\n        <i *ngSwitchCase="\'warning\'" nz-icon nzType="exclamation-circle"></i>\n        <i *ngSwitchCase="\'error\'" nz-icon nzType="close-circle"></i>\n        <i *ngSwitchCase="\'loading\'" nz-icon nzType="loading"></i>\n      </ng-container>\n      <ng-container *nzStringTemplateOutlet="nzMessage.content">\n        <span [innerHTML]="nzMessage.content"></span>\n      </ng-container>\n    </div>\n  </div>\n</div>\n'}]}],e.ctorParameters=function(){return[{type:m},{type:n.ChangeDetectorRef}]},e.propDecorators={nzMessage:[{type:n.Input}],nzIndex:[{type:n.Input}]},e}();var v=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[i.CommonModule,t.OverlayModule,r.NzIconModule,o.NzAddOnModule,f],declarations:[m,y],providers:[l],entryComponents:[m]}]}],e}();
/**
     * @license
     * Copyright Alibaba.com All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE
     */e.NZ_MESSAGE_CONFIG=h,e.NZ_MESSAGE_DEFAULT_CONFIG=u,e.NZ_MESSAGE_DEFAULT_CONFIG_PROVIDER=l,e.NzMessageBaseService=g,e.NzMessageComponent=y,e.NzMessageContainerComponent=m,e.NzMessageModule=v,e.NzMessageService=d,e.NzMessageServiceModule=f,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng-zorro-antd-message.umd.min.js.map